@model Projet2.ViewModels.PublicationViewModel
@{
    Layout = "_LayoutGeneral";
}

<h2>Mur des publications</h2>

@Html.ActionLink("Créer", "CreatePublication", "Publication")

<div>
    <table border="1">
        <tr>
            <th></th>
            <th><h2>Nom</h2></th>
            <th><h2>Type</h2></th>
            <th><h2>Contenu</h2></th>
            <th><h2>Date</h2></th>
            <th><h2>Auteur</h2></th>
            <th><h2>Modif</h2></th>



        </tr>
        @foreach (var publication in Model.Publications)
        {
           @* var Account = Model.Account;*@
            <tr>

                <td><img src="@publication.ImagePath" height="100" width="100" alt="" class="" /></td>
                <td>@Html.DisplayFor(mPublications => publication.Name)</td>
                <td>@Html.DisplayFor(mPublications => publication.PublicationType)</td>
                <td>@Html.DisplayFor(mPublications => publication.Content)</td>
                <td>@Html.DisplayFor(mPublications => publication.Date)</td>
                <td>@Html.DisplayFor(mAccount => publication.Account.Username)</td>
                @if(Model.Account!=null){
               
                <td>@Html.ActionLink("Consulter", "OnePublication","Publication",new {@id= publication.Id})</td>
                }
            </tr>
            
        }
    </table>

</div>
